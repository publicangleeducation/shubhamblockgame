
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
<title>SHUBHAM BLOCK</title>

<style>
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ RESET & GLOBAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    -webkit-tap-highlight-color:transparent;
}
html,body{
    width:100%;
    height:100%;
    overscroll-behavior:none;
}
body{
    font-family:Arial, sans-serif;
    background:
        radial-gradient(1200px 600px at 50% 20%, rgba(96,165,250,0.25), transparent 60%),
        linear-gradient(160deg,#1e3a8a 0%,#0f172a 70%);
    overflow:hidden;
    touch-action:none;
    user-select:none;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ LAYOUT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#game-container{
    height:100dvh;
    width:100%;
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:10px 10px env(safe-area-inset-bottom);
}

/* TOP BAR */
#top-bar{
    width:100%;
    max-width:560px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    color:white;
}
#high-score{
    display:flex;
    align-items:center;
    font-weight:bold;
    color:#fbbf24;
    font-size:16px;
}
#settings-icon{
    font-size:26px;
    cursor:pointer;
}

/* TITLE + SCORE */
#branding{
    margin-top:6px;
    text-align:center;
}
#branding h1{
    font-size:28px;
    letter-spacing:3px;
    font-weight:bold;
    background:linear-gradient(45deg,#fbbf24,#fde047,#fbbf24);
    background-size:200% auto;
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    animation:gold 3s linear infinite;
}
@keyframes gold{to{background-position:200% center;}}

#score-display{
    margin-top:4px;
    font-size:44px;
    font-weight:bold;
    color:white;
    text-shadow:0 4px 10px rgba(0,0,0,0.6);
}

/* GRID */
#grid-container{
    margin-top:10px;
    width:78vw;
    max-width:520px;
    aspect-ratio:1;
    padding:14px;
    border-radius:18px;
    background:linear-gradient(145deg,rgba(0,0,0,0.35),rgba(0,0,0,0.2));
    box-shadow:
        0 0 30px rgba(96,165,250,0.35),
        0 18px 40px rgba(0,0,0,0.6);
}
#grid{
    width:100%;
    height:100%;
    display:grid;
    grid-template-columns:repeat(10,1fr);
    grid-template-rows:repeat(10,1fr);
    gap:3px;
    padding:8px;
    border-radius:14px;
    background:linear-gradient(145deg,#0f172a,#1e293b);
    box-shadow:inset 0 4px 12px rgba(0,0,0,0.6);
}
.cell{
    background:linear-gradient(145deg,rgba(30,58,138,0.35),rgba(15,23,42,0.3));
    border-radius:5px;
}
.cell.filled{
    background:linear-gradient(145deg,var(--bl) 0%,var(--bc) 45%,var(--bd) 100%);
    box-shadow:
        inset 0 3px 6px rgba(255,255,255,0.4),
        inset 0 -3px 6px rgba(0,0,0,0.5),
        0 3px 8px rgba(0,0,0,0.5);
}

/* SHAPES TRAY */
#blocks-container{
    width:100%;
    max-width:560px;
    margin-top:auto;
    padding:12px 8px 18px;
    display:flex;
    justify-content:space-around;
    align-items:flex-end;
    gap:10px;
}
.block-wrapper{
    flex:1;
    display:flex;
    justify-content:center;
}
.block{
    display:inline-grid;
    gap:3px;
    will-change:transform;
    filter:drop-shadow(0 4px 10px rgba(0,0,0,0.5));
}
.block.dragging{
    position:fixed;
    z-index:1000;
    pointer-events:none;
    filter:drop-shadow(0 14px 24px rgba(0,0,0,0.7));
}
.block-cell{
    width:28px;
    height:28px;
    border-radius:4px;
    background:linear-gradient(145deg,var(--bl) 0%,var(--bc) 45%,var(--bd) 100%);
}

/* GAME OVER */
#game-over{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.85);
    display:none;
    justify-content:center;
    align-items:center;
    z-index:3000;
}
#game-over.show{display:flex;}
.modal{
    background:linear-gradient(145deg,#1e40af,#1e3a8a);
    padding:34px;
    border-radius:18px;
    text-align:center;
    color:white;
}

/* SETTINGS */
#settings-panel{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.9);
    display:none;
    justify-content:center;
    align-items:center;
    z-index:4000;
}
#settings-panel.show{display:flex;}
.settings-content{
    background:#1e3a8a;
    padding:30px;
    border-radius:18px;
    min-width:280px;
    color:white;
}
.close-btn{
    position:absolute;
    top:10px;
    right:14px;
    font-size:22px;
    cursor:pointer;
}
</style>
</head>

<body>
<div id="game-container">

    <!-- TOP -->
    <div id="top-bar">
        <div id="high-score">ğŸ‘‘ <span id="high-score-value">0</span></div>
        <div id="settings-icon">âš™ï¸</div>
    </div>

    <!-- TITLE -->
    <div id="branding">
        <h1>SHUBHAM BLOCK</h1>
    </div>

    <!-- SCORE -->
    <div id="score-display">0</div>

    <!-- GRID -->
    <div id="grid-container">
        <div id="grid"></div>
    </div>

    <!-- SHAPES -->
    <div id="blocks-container"></div>
</div>

<div id="game-over">
    <div class="modal">
        <h2>GAME OVER</h2>
        <p>Score: <span id="final-score">0</span></p>
        <p>High Score: <span id="final-high-score">0</span></p>
        <button onclick="restartGame()">PLAY AGAIN</button>
    </div>
</div>

<div id="settings-panel">
    <div class="settings-content">
        <div class="close-btn" onclick="closeSettings()">âœ•</div>
        <h3>SETTINGS</h3>
        <button onclick="resetHighScore()">RESET HIGH SCORE</button>
    </div>
</div>

<script>
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ GAME LOGIC (UNCHANGED CORE) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const GRID_SIZE=10;
let grid=[...Array(GRID_SIZE)].map(()=>Array(GRID_SIZE).fill(null));
let score=0,highScore=0;
let blocks=[];
let drag=null;
let px=0,py=0,raf=null;

const colors=[
 {c:'#a78bfa',d:'#6d28d9',l:'#c4b5fd'},
 {c:'#fb923c',d:'#c2410c',l:'#fdba74'},
 {c:'#60a5fa',d:'#1d4ed8',l:'#93c5fd'},
 {c:'#ec4899',d:'#be185d',l:'#f9a8d4'},
 {c:'#14b8a6',d:'#0f766e',l:'#5eead4'}
];

const shapes=[
 [[1]],[[1,1]],[[1],[1]],[[1,1,1]],[[1],[1],[1]],
 [[1,1],[1,1]],
 [[1,1,1,1]],[[1],[1],[1],[1]]
];

function init(){
 createGrid();
 updateScore();
 spawnBlocks();
 document.getElementById('settings-icon').onclick=()=>settingsPanel(true);
}

function createGrid(){
 const g=document.getElementById('grid'); g.innerHTML='';
 for(let i=0;i<100;i++){
  const d=document.createElement('div');
  d.className='cell';
  d.dataset.r=Math.floor(i/10);
  d.dataset.c=i%10;
  g.appendChild(d);
 }
}

function spawnBlocks(){
 const tray=document.getElementById('blocks-container');
 tray.innerHTML='';
 blocks=[];
 for(let i=0;i<3;i++){
  const shape=JSON.parse(JSON.stringify(shapes[Math.random()*shapes.length|0]));
  const col=colors[Math.random()*colors.length|0];
  const b={shape,col};
  blocks.push(b);
  tray.appendChild(makeBlock(b));
 }
}

function makeBlock(data){
 const w=document.createElement('div');
 w.className='block-wrapper';
 const b=document.createElement('div');
 b.className='block';
 b.style.gridTemplateColumns=`repeat(${data.shape[0].length},28px)`;
 b.style.setProperty('--bc',data.col.c);
 b.style.setProperty('--bd',data.col.d);
 b.style.setProperty('--bl',data.col.l);

 data.shape.flat().forEach(v=>{
  const c=document.createElement('div');
  if(v)c.className='block-cell';
  else c.style.visibility='hidden';
  b.appendChild(c);
 });

 w.appendChild(b);
 setupDrag(b,data,w);
 return w;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 60 FPS DRAG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function setupDrag(el,data,wrap){
 el.onpointerdown=e=>{
  e.preventDefault();
  drag={el,data,wrap};
  el.setPointerCapture(e.pointerId);
  el.classList.add('dragging');
  px=e.clientX; py=e.clientY;
  loop();
 };
 el.onpointermove=e=>{
  if(!drag)return;
  px=e.clientX; py=e.clientY;
 };
 el.onpointerup=e=>{
  if(!drag)return;
  el.releasePointerCapture(e.pointerId);
  cancelAnimationFrame(raf);
  placeAttempt(px,py) ? wrap.remove() : resetDrag();
  drag=null;
 };
}

function loop(){
 if(!drag)return;
 drag.el.style.transform=`translate(${px-drag.el.offsetWidth/2}px,${py-drag.el.offsetHeight/2}px) scale(1.08)`;
 raf=requestAnimationFrame(loop);
}

function resetDrag(){
 drag.el.classList.remove('dragging');
 drag.el.style.transform='';
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ PLACEMENT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function placeAttempt(x,y){
 const g=document.getElementById('grid').getBoundingClientRect();
 if(x<g.left||x>g.right||y<g.top||y>g.bottom)return false;
 const cs=g.width/10;
 const r=Math.floor((y-g.top)/cs);
 const c=Math.floor((x-g.left)/cs);
 if(!canPlace(r,c,drag.data.shape))return false;
 drag.data.shape.forEach((row,i)=>{
  row.forEach((v,j)=>{
   if(v){
    grid[r+i][c+j]=drag.data.col;
    const cell=document.querySelector(`[data-r="${r+i}"][data-c="${c+j}"]`);
    cell.classList.add('filled');
    cell.style.setProperty('--bc',drag.data.col.c);
    cell.style.setProperty('--bd',drag.data.col.d);
    cell.style.setProperty('--bl',drag.data.col.l);
    score+=10;
   }
  });
 });
 updateScore();
 return true;
}

function canPlace(r,c,s){
 for(let i=0;i<s.length;i++)
  for(let j=0;j<s[i].length;j++)
   if(s[i][j]){
    if(r+i<0||r+i>=10||c+j<0||c+j>=10)return false;
    if(grid[r+i][c+j])return false;
   }
 return true;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ UI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function updateScore(){
 document.getElementById('score-display').textContent=score;
 if(score>highScore){
  highScore=score;
  document.getElementById('high-score-value').textContent=highScore;
 }
}
function restartGame(){
 grid=[...Array(10)].map(()=>Array(10).fill(null));
 document.querySelectorAll('.cell').forEach(c=>c.classList.remove('filled'));
 score=0; updateScore(); spawnBlocks();
 document.getElementById('game-over').classList.remove('show');
}
function settingsPanel(v){
 document.getElementById('settings-panel').classList.toggle('show',v);
}
function closeSettings(){settingsPanel(false);}
function resetHighScore(){highScore=0;updateScore();}

init();
</script>
</body>
</html>
```
